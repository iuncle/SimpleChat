{"version":3,"sources":["webpack:///src/components/customSearchList/userList.vue","webpack:///./src/components/customSearchList/userList.vue?0ff7","webpack:///./src/components/customSearchList/userList.vue","webpack:///src/components/customSearchList/groupList.vue","webpack:///./src/components/customSearchList/groupList.vue?060d","webpack:///./src/components/customSearchList/groupList.vue","webpack:///src/views/Add.vue","webpack:///./src/views/Add.vue?0165","webpack:///./src/views/Add.vue"],"names":["userList","props","data","IMG_URL","friends","JSON","parse","window","localStorage","getItem","showAdditionMessage","additionMessage","seleceItem","loading","methods","showAdditionDialog","item","this","sendApply","_this","setTimeout","$alert","confirmButtonText","type","val","roomid","sysUsers","filter","code","_id","senderId","userInfo","senderName","name","senderNickname","nickname","senderAvatar","photo","reveiverId","time","Object","utils","Date","status","validateType","$socket","emit","computed","extends_default","vuex_esm","noMeSerchList","_this2","searchlist","customSearchList_userList","render","_vm","_h","$createElement","_c","_self","staticClass","_l","key","attrs","shape","src","_v","to","tag","_s","signature","size","icon","disabled","includes","on","click","$event","title","visible","width","update:visible","directives","rawName","value","expression","rows","placeholder","model","callback","$$v","slot","staticRenderFns","components_customSearchList_userList","__webpack_require__","normalizeComponent","ssrContext","groupList","groups","holderUserId","groupId","console","log","customSearchList_groupList","img","desc","components_customSearchList_groupList","groupList_normalizeComponent","Add","searchKey","searchObjectMap","src_const","searchTypes","searchObject","searchType","isFetch","searchList","hasMore","pageSize","page","fetchUser","params","loadMore","asyncToGenerator_default","regenerator_default","a","mark","_callee","_ref","_userList","wrap","_context","prev","next","$http","preFetchUser","sent","concat","toConsumableArray_default","length","t0","finish","stop","fetchGroup","_callee2","_ref2","_groupList","_context2","preFetchGroup","forEach","isGroup","handleTagClose","fetch","_this3","arguments","undefined","initPage","q","keyWordChange","hanlerScroll","addPage","document","querySelector","scrollTop","clientHeight","scrollHeight","components","EmptySvg","empty","mounted","addEventListener","views_Add","prefix-icon","maxlength","input","change","id","label","closable","close","_e","height","center","show-icon","Add_Component","Add_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/7.aa480c9487108457352f.js","sourcesContent":["<template>\r\n  <div class=\"custom-search-list-com\">\r\n    <div class=\"wrapper\" v-for=\"item in noMeSerchList\" :key=\"item._id\">\r\n      <div class=\"details\">\r\n        <el-avatar\r\n          class=\"avatar\"\r\n          shape=\"square\"\r\n          :src=\"IMG_URL + item.photo\"\r\n        >\r\n        </el-avatar>\r\n        <div class=\"info\">\r\n          <p class=\"item primary-font nickname\">\r\n            <router-link :to=\"`/user/${item._id}`\" tag=\"span\">\r\n              {{item.nickname}}\r\n            </router-link>\r\n          </p>\r\n          <p class=\"item secondary-font\">{{item.signature}}</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"operation\">\r\n        <el-button\r\n          type=\"primary\"\r\n          size=\"small\"\r\n          icon=\"el-icon-plus\"\r\n          :disabled=\"(friends || []).includes(item._id)\"\r\n          @click=\"showAdditionDialog(item)\"\r\n        >添加\r\n        </el-button>\r\n        <el-dialog\r\n          title=\"附加消息\"\r\n          :visible.sync=\"showAdditionMessage\"\r\n          width=\"60%\"\r\n        >\r\n          <div v-loading=\"loading\">\r\n            <el-input\r\n              type=\"textarea\"\r\n              :rows=\"2\"\r\n              placeholder=\"请输入内容\"\r\n              v-model=\"additionMessage\">\r\n            </el-input>\r\n          </div>\r\n          <span slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"showAdditionMessage = false\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"sendApply()\">确 定</el-button>\r\n          </span>\r\n        </el-dialog>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex'\r\nimport { fromatTime } from \"@/utils\"\r\nexport default {\r\n  props: [\"searchlist\"],\r\n  data() {\r\n    return {\r\n      IMG_URL: process.env.IMG_URL,\r\n      friends: JSON.parse(window.localStorage.getItem('friends')),\r\n      showAdditionMessage: false,\r\n      additionMessage: '',\r\n      seleceItem: {},\r\n      loading: false\r\n    }\r\n  },\r\n  methods: {\r\n    showAdditionDialog(item) {\r\n      this.showAdditionMessage = !this.showAdditionMessage\r\n      this.seleceItem = item\r\n    },\r\n    sendApply() {\r\n      this.loading = true\r\n      setTimeout(() => {\r\n        this.loading = false\r\n        this.showAdditionMessage = false\r\n        this.additionMessage = ''\r\n        this.$alert('验证消息发送成功！', '提示', {\r\n          confirmButtonText: '确定',\r\n          type: 'warning'\r\n        })\r\n      }, 500)\r\n      const validateSysUsr = this.sysUsers.filter(item => item.code === '111111')[0]\r\n      const val = {\r\n        roomid: validateSysUsr._id + '-' + this.seleceItem._id,\r\n        senderId: this.userInfo._id,\r\n        senderName: this.userInfo.name,\r\n        senderNickname: this.userInfo.nickname,\r\n        senderAvatar: this.userInfo.photo,\r\n        reveiverId: this.seleceItem._id,\r\n        time: fromatTime(new Date()),\r\n        additionMessage: this.additionMessage,\r\n        status: 0,\r\n        validateType: 0\r\n      }\r\n      this.$socket.emit('sendValidateMessage', val)\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState('app', {\r\n      sysUsers: 'sysUsers'\r\n    }),\r\n    ...mapState('user', {\r\n      userInfo: 'userInfo'\r\n    }),\r\n    noMeSerchList() {\r\n      return this.searchlist.filter(item => item._id !== this.userInfo._id)\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.custom-search-list-com {\r\n  \r\n  .wrapper {\r\n    border-top: 1px solid #C0C4CC;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    padding: 10px 0;\r\n    &:last-child {\r\n      border-bottom: 1px solid #C0C4CC;\r\n    }\r\n    .details {\r\n      display: flex;\r\n      align-items: center;\r\n      .avatar {\r\n        width: 100px;\r\n        height: 100px;\r\n      }\r\n      .info {\r\n        margin-left: 27px;\r\n        .item {\r\n          font-family: \"Helvetica, Arial, sans-serif\";\r\n          margin: 0;\r\n          &:last-child {\r\n            margin-top: 5px;\r\n          }\r\n        }\r\n        .nickname {\r\n          cursor: pointer;\r\n          color: hsla(230, 84%, 63%, 1);\r\n          &:hover {\r\n            text-decoration: underline;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/customSearchList/userList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"custom-search-list-com\"},_vm._l((_vm.noMeSerchList),function(item){return _c('div',{key:item._id,staticClass:\"wrapper\"},[_c('div',{staticClass:\"details\"},[_c('el-avatar',{staticClass:\"avatar\",attrs:{\"shape\":\"square\",\"src\":_vm.IMG_URL + item.photo}}),_vm._v(\" \"),_c('div',{staticClass:\"info\"},[_c('p',{staticClass:\"item primary-font nickname\"},[_c('router-link',{attrs:{\"to\":(\"/user/\" + (item._id)),\"tag\":\"span\"}},[_vm._v(\"\\n            \"+_vm._s(item.nickname)+\"\\n          \")])],1),_vm._v(\" \"),_c('p',{staticClass:\"item secondary-font\"},[_vm._v(_vm._s(item.signature))])])],1),_vm._v(\" \"),_c('div',{staticClass:\"operation\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"icon\":\"el-icon-plus\",\"disabled\":(_vm.friends || []).includes(item._id)},on:{\"click\":function($event){_vm.showAdditionDialog(item)}}},[_vm._v(\"添加\\n      \")]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"附加消息\",\"visible\":_vm.showAdditionMessage,\"width\":\"60%\"},on:{\"update:visible\":function($event){_vm.showAdditionMessage=$event}}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":2,\"placeholder\":\"请输入内容\"},model:{value:(_vm.additionMessage),callback:function ($$v) {_vm.additionMessage=$$v},expression:\"additionMessage\"}})],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.showAdditionMessage = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.sendApply()}}},[_vm._v(\"确 定\")])],1)])],1)])}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2ab792e2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/customSearchList/userList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2ab792e2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./userList.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./userList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./userList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2ab792e2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./userList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/customSearchList/userList.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"custom-search-list-com\">\r\n    <div class=\"wrapper\" v-for=\"item in searchlist\" :key=\"item._id\">\r\n      <div class=\"details\">\r\n        <el-avatar\r\n          class=\"avatar\"\r\n          shape=\"square\"\r\n          :src=\"IMG_URL + item.img\"\r\n        >\r\n        </el-avatar>\r\n        <div class=\"info\">\r\n          <p class=\"item primary-font nickname\">\r\n            <span>\r\n              {{item.title}}\r\n            </span>\r\n          </p>\r\n          <p class=\"item secondary-font\">{{ item.desc }}</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"operation\">\r\n        <el-button\r\n          type=\"primary\"\r\n          size=\"small\"\r\n          icon=\"el-icon-plus\"\r\n          :disabled=\"(groups || []).includes(item._id)\"\r\n          @click=\"showAdditionDialog(item)\"\r\n        >添加\r\n        </el-button>\r\n        <el-dialog\r\n          title=\"附加消息\"\r\n          :visible.sync=\"showAdditionMessage\"\r\n          width=\"60%\"\r\n        >\r\n          <div v-loading=\"loading\">\r\n            <el-input\r\n              type=\"textarea\"\r\n              :rows=\"2\"\r\n              placeholder=\"请输入内容\"\r\n              v-model=\"additionMessage\">\r\n            </el-input>\r\n          </div>\r\n          <span slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"showAdditionMessage = false\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"sendApply()\">确 定</el-button>\r\n          </span>\r\n        </el-dialog>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex'\r\nimport { fromatTime } from \"@/utils\"\r\nexport default {\r\n  props: [\"searchlist\"],\r\n  data() {\r\n    return {\r\n      IMG_URL: process.env.IMG_URL,\r\n      groups: JSON.parse(window.localStorage.getItem('groups')),\r\n      showAdditionMessage: false,\r\n      additionMessage: '',\r\n      seleceItem: {},\r\n      loading: false\r\n    }\r\n  },\r\n  methods: {\r\n    showAdditionDialog(item) {\r\n      this.showAdditionMessage = !this.showAdditionMessage\r\n      this.seleceItem = item\r\n    },\r\n    sendApply() {\r\n      this.loading = true\r\n      setTimeout(() => {\r\n        this.loading = false\r\n        this.showAdditionMessage = false\r\n        this.additionMessage = ''\r\n        this.$alert('验证消息发送成功！', '提示', {\r\n          confirmButtonText: '确定',\r\n          type: 'warning'\r\n        })\r\n      }, 500)\r\n      const validateSysUsr = this.sysUsers.filter(item => item.code === '111111')[0]\r\n      const val = {\r\n        roomid: validateSysUsr._id + '-' + this.seleceItem.holderUserId._id,\r\n        senderId: this.userInfo._id,\r\n        senderName: this.userInfo.name,\r\n        senderNickname: this.userInfo.nickname,\r\n        senderAvatar: this.userInfo.photo,\r\n        reveiverId: this.seleceItem.holderUserId._id,\r\n        groupId: this.seleceItem._id,\r\n        time: fromatTime(new Date()),\r\n        additionMessage: this.additionMessage,\r\n        status: 0,\r\n        validateType: 1\r\n      }\r\n      this.$socket.emit('sendValidateMessage', val)\r\n      console.log(val)\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState('app', {\r\n      sysUsers: 'sysUsers'\r\n    }),\r\n    ...mapState('user', {\r\n      userInfo: 'userInfo'\r\n    }),\r\n    noMeSerchList() {\r\n      return this.searchlist.filter(item => item._id !== this.userInfo._id)\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.custom-search-list-com {\r\n  \r\n  .wrapper {\r\n    border-top: 1px solid #C0C4CC;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    padding: 10px 0;\r\n    &:last-child {\r\n      border-bottom: 1px solid #C0C4CC;\r\n    }\r\n    .details {\r\n      display: flex;\r\n      align-items: center;\r\n      .avatar {\r\n        width: 100px;\r\n        height: 100px;\r\n      }\r\n      .info {\r\n        margin-left: 27px;\r\n        .item {\r\n          font-family: \"Helvetica, Arial, sans-serif\";\r\n          margin: 0;\r\n          &:last-child {\r\n            margin-top: 5px;\r\n          }\r\n        }\r\n        .nickname {\r\n          cursor: pointer;\r\n          color: hsla(230, 84%, 63%, 1);\r\n          &:hover {\r\n            text-decoration: underline;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/customSearchList/groupList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"custom-search-list-com\"},_vm._l((_vm.searchlist),function(item){return _c('div',{key:item._id,staticClass:\"wrapper\"},[_c('div',{staticClass:\"details\"},[_c('el-avatar',{staticClass:\"avatar\",attrs:{\"shape\":\"square\",\"src\":_vm.IMG_URL + item.img}}),_vm._v(\" \"),_c('div',{staticClass:\"info\"},[_c('p',{staticClass:\"item primary-font nickname\"},[_c('span',[_vm._v(\"\\n            \"+_vm._s(item.title)+\"\\n          \")])]),_vm._v(\" \"),_c('p',{staticClass:\"item secondary-font\"},[_vm._v(_vm._s(item.desc))])])],1),_vm._v(\" \"),_c('div',{staticClass:\"operation\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"icon\":\"el-icon-plus\",\"disabled\":(_vm.groups || []).includes(item._id)},on:{\"click\":function($event){_vm.showAdditionDialog(item)}}},[_vm._v(\"添加\\n      \")]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"附加消息\",\"visible\":_vm.showAdditionMessage,\"width\":\"60%\"},on:{\"update:visible\":function($event){_vm.showAdditionMessage=$event}}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":2,\"placeholder\":\"请输入内容\"},model:{value:(_vm.additionMessage),callback:function ($$v) {_vm.additionMessage=$$v},expression:\"additionMessage\"}})],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.showAdditionMessage = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.sendApply()}}},[_vm._v(\"确 定\")])],1)])],1)])}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5a1ec20d\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/customSearchList/groupList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5a1ec20d\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./groupList.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./groupList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./groupList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5a1ec20d\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./groupList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/customSearchList/groupList.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"add-page\">\r\n    <div class=\"header\">\r\n      <div class=\"search-area\">\r\n        <el-input\r\n          placeholder=\"请输入内容\"\r\n          prefix-icon=\"el-icon-search\"\r\n          v-model=\"searchKey\"\r\n          maxlength=\"20\"\r\n          @input=\"keyWordChange\"\r\n        >\r\n        </el-input>\r\n        <el-select v-model=\"searchObject\" placeholder=\"请选择搜索对象\" @change=\"fetch(false, true)\">\r\n          <el-option\r\n            v-for=\"item in searchObjectMap\"\r\n            :key=\"item.id\"\r\n            :label=\"item.label\"\r\n            :value=\"item.value\"\r\n          />\r\n        </el-select>\r\n        <el-select v-model=\"searchType\" placeholder=\"请选择\" @change=\"fetch(false, true)\">\r\n          <el-option\r\n            v-for=\"item in searchTypes[searchObject]\"\r\n            :key=\"item.id\"\r\n            :label=\"item.label\"\r\n            :value=\"item.value\"\r\n          />\r\n        </el-select>\r\n      </div>\r\n      <div class=\"condition-list\">\r\n        <el-tag type=\"danger\">当前搜索条件：</el-tag>\r\n        <el-tag v-if=\"searchKey\" closable @close=\"handleTagClose\">{{searchKey}}</el-tag>\r\n        <el-tag v-if=\"searchObject\">{{searchObject}}</el-tag>\r\n        <el-tag v-if=\"searchType\">{{searchType}}</el-tag>\r\n      </div>\r\n    </div>\r\n    <div class=\"body\">\r\n      <div class=\"search-outcome\" v-loading=\"isFetch\">\r\n        <div class=\"description\" v-if=\"searchList.length\">\r\n          一共搜索到{{searchList.length}}条结果\r\n        </div>\r\n        <empty-svg  class=\"no-data\" v-if=\"searchList.length === 0\" width=\"200\" height=\"200\" />\r\n        <user-list :searchlist=\"searchList\" v-if=\"searchObject === 'friend'\" />\r\n        <group-list :searchlist=\"searchList\" v-else-if=\"searchObject === 'group'\" />\r\n        <div class=\"no-more\" v-if=\"searchList.length && !hasMore\">\r\n          <el-alert\r\n            title=\"没有更多了...\"\r\n            type=\"info\"\r\n            center\r\n            show-icon\r\n            :closable=\"false\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { debounce } from '@/utils'\r\nimport { searchObjectMap, searchTypes } from '@/const'\r\nimport userList from '@/components/customSearchList/userList'\r\nimport groupList from '@/components/customSearchList/groupList'\r\nimport EmptySvg from '@/SVGComponents/empty'\r\nexport default {\r\n  name: \"Add\",\r\n  data() {\r\n    return {\r\n      searchKey: '',\r\n      searchObjectMap,\r\n      searchTypes,\r\n      searchObject: 'friend',\r\n      searchType: 'code',\r\n      isFetch: false,\r\n      searchList: [],\r\n      hasMore: true,\r\n      pageSize: 7,\r\n      page: 0\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchUser(params, loadMore) {\r\n      try {\r\n        const { data } = await this.$http.preFetchUser(params)\r\n        if (data.status === 2000) {\r\n          const { data: userList } = data\r\n          if (loadMore) {\r\n            this.searchList = [...this.searchList, ...userList]\r\n          } else {\r\n            this.searchList = userList\r\n          }\r\n          if (userList.length < 7) {\r\n            this.hasMore = false\r\n          } else {\r\n            this.hasMore = true\r\n          }\r\n        }\r\n      } catch (error) {\r\n        \r\n      } finally {\r\n        this.isFetch = false\r\n      }\r\n    },\r\n    async fetchGroup (params, loadMore) {\r\n      try {\r\n        const { data } = await this.$http.preFetchGroup(params)\r\n        if (data.status === 2000) {\r\n          const { data: groupList } = data\r\n          groupList.forEach(item => {\r\n            item.isGroup = true\r\n          })\r\n          if (loadMore) {\r\n            this.searchList = [...this.searchList, ...groupList]\r\n          } else {\r\n            this.searchList = groupList\r\n          }\r\n          if (groupList.length < 7) {\r\n            this.hasMore = false\r\n          } else {\r\n            this.hasMore = true\r\n          }\r\n        }\r\n      } catch (error) {\r\n        \r\n      } finally {\r\n        this.isFetch = false\r\n      }\r\n    },\r\n    handleTagClose() {\r\n      this.searchKey = ''\r\n      this.fetch()\r\n    },\r\n    fetch(loadMore = false, initPage = false) {\r\n      if (!this.searchKey) {\r\n        this.isFetch = true\r\n        setTimeout(() => {\r\n          this.searchList = []\r\n          this.isFetch = false\r\n        }, 500)\r\n        return\r\n      }\r\n      if (initPage) {\r\n        this.page = 0\r\n        this.hasMore = true\r\n      }\r\n      this.isFetch = true\r\n      const params = {type: this.searchType, q: this.searchKey, pageSize: this.pageSize, page: this.page}\r\n      if (this.searchObject === 'friend') {\r\n        this.fetchUser(params, loadMore)        \r\n      } else if (this.searchObject === 'group') {\r\n        this.fetchGroup(params, loadMore)\r\n      }\r\n    },\r\n    keyWordChange: debounce(function () {\r\n      this.fetch(false)\r\n    }, 500),\r\n    hanlerScroll: debounce(function() {\r\n      const addPage = document.querySelector('.add-page')\r\n      const scrollTop = addPage.scrollTop\r\n      const clientHeight = addPage.clientHeight\r\n      const scrollHeight = addPage.scrollHeight\r\n      if (scrollTop + clientHeight + 10 >= scrollHeight) {\r\n        if(this.hasMore){ \r\n          this.page++\r\n          this.fetch(true)\r\n        }\r\n      }\r\n    }, 500)\r\n  },\r\n  components: {\r\n    userList,\r\n    groupList,\r\n    EmptySvg\r\n  },\r\n  mounted() {\r\n    const addPage = document.querySelector('.add-page')\r\n    addPage.addEventListener('scroll', this.hanlerScroll)\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.add-page {\r\n  width: 815px;\r\n  height: 100%;\r\n  padding: 10px 0;\r\n  overflow-y: scroll;\r\n  // margin: 0 auto;\r\n  .header {\r\n    .search-area {\r\n      display: flex;\r\n    }\r\n    .condition-list {\r\n      margin-top: 17px;\r\n    }\r\n  }\r\n  .body {\r\n    margin-top: 17px;\r\n    .search-outcome {\r\n      position: relative;\r\n      background-color: #fff;\r\n      border-radius: 3px;\r\n      min-height: 250px;\r\n      width: 600px;\r\n      padding: 10px;\r\n      .description {\r\n        margin-bottom: 10px;\r\n      }\r\n      .no-data {\r\n        position: absolute;\r\n        top: 50%;\r\n        left: 50%;\r\n        transform: translate(-50%, -50%)\r\n      }\r\n      .no-more {\r\n        margin-top: 10px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/Add.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"add-page\"},[_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"search-area\"},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\",\"prefix-icon\":\"el-icon-search\",\"maxlength\":\"20\"},on:{\"input\":_vm.keyWordChange},model:{value:(_vm.searchKey),callback:function ($$v) {_vm.searchKey=$$v},expression:\"searchKey\"}}),_vm._v(\" \"),_c('el-select',{attrs:{\"placeholder\":\"请选择搜索对象\"},on:{\"change\":function($event){_vm.fetch(false, true)}},model:{value:(_vm.searchObject),callback:function ($$v) {_vm.searchObject=$$v},expression:\"searchObject\"}},_vm._l((_vm.searchObjectMap),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.label,\"value\":item.value}})})),_vm._v(\" \"),_c('el-select',{attrs:{\"placeholder\":\"请选择\"},on:{\"change\":function($event){_vm.fetch(false, true)}},model:{value:(_vm.searchType),callback:function ($$v) {_vm.searchType=$$v},expression:\"searchType\"}},_vm._l((_vm.searchTypes[_vm.searchObject]),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.label,\"value\":item.value}})}))],1),_vm._v(\" \"),_c('div',{staticClass:\"condition-list\"},[_c('el-tag',{attrs:{\"type\":\"danger\"}},[_vm._v(\"当前搜索条件：\")]),_vm._v(\" \"),(_vm.searchKey)?_c('el-tag',{attrs:{\"closable\":\"\"},on:{\"close\":_vm.handleTagClose}},[_vm._v(_vm._s(_vm.searchKey))]):_vm._e(),_vm._v(\" \"),(_vm.searchObject)?_c('el-tag',[_vm._v(_vm._s(_vm.searchObject))]):_vm._e(),_vm._v(\" \"),(_vm.searchType)?_c('el-tag',[_vm._v(_vm._s(_vm.searchType))]):_vm._e()],1)]),_vm._v(\" \"),_c('div',{staticClass:\"body\"},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isFetch),expression:\"isFetch\"}],staticClass:\"search-outcome\"},[(_vm.searchList.length)?_c('div',{staticClass:\"description\"},[_vm._v(\"\\n        一共搜索到\"+_vm._s(_vm.searchList.length)+\"条结果\\n      \")]):_vm._e(),_vm._v(\" \"),(_vm.searchList.length === 0)?_c('empty-svg',{staticClass:\"no-data\",attrs:{\"width\":\"200\",\"height\":\"200\"}}):_vm._e(),_vm._v(\" \"),(_vm.searchObject === 'friend')?_c('user-list',{attrs:{\"searchlist\":_vm.searchList}}):(_vm.searchObject === 'group')?_c('group-list',{attrs:{\"searchlist\":_vm.searchList}}):_vm._e(),_vm._v(\" \"),(_vm.searchList.length && !_vm.hasMore)?_c('div',{staticClass:\"no-more\"},[_c('el-alert',{attrs:{\"title\":\"没有更多了...\",\"type\":\"info\",\"center\":\"\",\"show-icon\":\"\",\"closable\":false}})],1):_vm._e()],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6e03b566\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Add.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6e03b566\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Add.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Add.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Add.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6e03b566\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Add.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Add.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}