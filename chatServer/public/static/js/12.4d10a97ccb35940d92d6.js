webpackJsonp([12],{"5oav":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("mvHQ"),a=n.n(o),l=n("Gu7T"),r=n.n(l),s=n("Dd8w"),i=n.n(s),c=(n("0xDb"),{data:function(){return{events:[],showAddEvent:!1,eventForm:{title:"",start:"",end:"",cssClass:"normal"},rules:{title:[{required:!0,message:"请输入活动名称",trigger:"blur"},{min:3,max:15,message:"长度在 3 到 15 个字符",trigger:"blur"}],start:[{type:"date",required:!0,message:"请选择日期",trigger:"change"}]},matterLevels:[{type:"danger",label:"紧急事项"},{type:"warning",label:"重要事项"},{type:"normal",label:"一般事项"},{type:"info",label:"不重要事项"}]}},computed:{endOptions:function(){var e=this;return{disabledDate:function(t){return t.getTime()<new Date(e.eventForm.start).getTime()}}}},methods:{addEvent:function(e){var t=this;this.$refs[e].validate(function(e){if(e){var n=i()({},t.eventForm);t.events=[].concat(r()(t.events),[n]),t.showAddEvent=!1,t.eventForm.title=t.eventForm.start=t.eventForm.end="",window.localStorage.setItem("todo",a()(t.events))}else t.showAddEvent=!0})},canceAddEvent:function(){this.title=this.start=this.end="",this.showAddEvent=!1},changeMonth:function(e){console.log("changeMonth",e)},eventClick:function(e){console.log("eventClick",e)},dayClick:function(e){this.eventForm.start=e,this.showAddEvent=!0},moreClick:function(e){console.log("moreClick",e)},handleClick:function(e){this.eventForm.cssClass=e}},created:function(){var e=this;JSON.parse(window.localStorage.getItem("accept"))||this.$confirm("你的代办日程保存在本地，并不会同步到后端","提示",{confirmButtonText:"我已了解并使用",cancelButtonText:"我不接受使用",type:"warning"}).then(function(){window.localStorage.setItem("accept",!0);JSON.parse(window.localStorage.getItem("todo"))}).catch(function(){e.$router.go(-1),window.localStorage.setItem("accept",!1)});var t=JSON.parse(window.localStorage.getItem("todo"))||[];this.events=t}}),d={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"schedule-page"},[n("full-calendar",{ref:"calendar",attrs:{events:e.events,locale:"zh-cn",lang:"zh"},on:{changeMonth:e.changeMonth,eventClick:e.eventClick,dayClick:e.dayClick,moreClick:e.moreClick},scopedSlots:e._u([{key:"fc-event-card",fn:function(t){return[e._v("\n      "+e._s(t)+"\n    ")]}}])},[n("template",{slot:"fc-header-left"},[n("div",[n("p",[e._v("日程管理")])])])],2),e._v(" "),n("el-dialog",{attrs:{title:"请输入待办事项",visible:e.showAddEvent,width:"35%",center:""},on:{"update:visible":function(t){e.showAddEvent=t}}},[n("el-form",{ref:"eventForm",attrs:{model:e.eventForm,rules:e.rules,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"事项名称",prop:"title",required:""}},[n("el-input",{model:{value:e.eventForm.title,callback:function(t){e.$set(e.eventForm,"title",t)},expression:"eventForm.title"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"开始时间",prop:"start",required:""}},[n("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.eventForm.start,callback:function(t){e.$set(e.eventForm,"start",t)},expression:"eventForm.start"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"结束时间",prop:"end"}},[n("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期","picker-options":e.endOptions},model:{value:e.eventForm.end,callback:function(t){e.$set(e.eventForm,"end",t)},expression:"eventForm.end"}})],1),e._v(" "),n("el-form-item",{staticClass:"matter-level",attrs:{label:"事项级别"}},e._l(e.matterLevels,function(t){return n("el-tag",{key:t.label,staticClass:"item",attrs:{type:t.type,effect:e.eventForm.cssClass===t.type?"dark":"plain"},on:{click:function(n){e.handleClick(t.type)}}},[e._v("\n          "+e._s(t.label)+"\n        ")])}))],1),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:e.canceAddEvent}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addEvent("eventForm")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var v=n("VU/8")(c,d,!1,function(e){n("bqyL")},null,null);t.default=v.exports},bqyL:function(e,t){}});
//# sourceMappingURL=12.4d10a97ccb35940d92d6.js.map